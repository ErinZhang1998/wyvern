resource module main

import wyvern_reflect_base
import java:wyvern.tools.tests.ReflectionTests.tools

type IntObj
	val contents : Int

type StringObj
    val contents : String

val intObj : IntObj = new
    val contents = 47

val stringObj : StringObj = new
    val contents = "reflection in wyvern!"

// Test objects with different types aren't equal
val intMirror : wyvern_reflect_base.Object = wyvern_reflect_base.reflect(intObj)
val intType : wyvern_reflect_base.Type = intMirror.typeOf()
val stringMirror : wyvern_reflect_base.Object = wyvern_reflect_base.reflect(stringObj)
val typeNotEqual : Int = intType.equals(stringMirror.typeOf())
tools.assertIntEquals(typeNotEqual, 0)

val typeName : String = intType.name()
tools.assertStringEquals("IntObj", typeName)
