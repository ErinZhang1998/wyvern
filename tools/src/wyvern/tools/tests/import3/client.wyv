//This is translation for Fig.13 in the paper
import import3.File
import import3.Go
import lifted import3.lib

// How do I pass this function into lib?
val g : Go [{}] = new
    // x should be a function without effect
    def go (x : Unit -> Unit) : {} Unit
        unit

val file : File[{system.ffiEffect}] = new
    effect write = {system.ffiEffect}
    def writeToFile() : {this.write} Unit
        unit

val lib1 = lib[{file.write}](file, g)

